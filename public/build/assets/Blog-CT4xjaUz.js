import{j as e}from"./animation-vendor-cqAOgI-L.js";import{r as t}from"./react-vendor-DBIh15m-.js";import{a as i}from"./http-vendor-Dos3PyFQ.js";import{L as n}from"./Layout-Di4KQfwB.js";import{L as r}from"./router-vendor-DY4tAilk.js";import"./app-CMtZu_Fm.js";function o(){const[o,a]=t.useState([]),[s,l]=t.useState([]),[d,x]=t.useState(!0),[p,c]=t.useState(""),[h,g]=t.useState(""),[f,u]=t.useState(1),[y,m]=t.useState(1);t.useEffect(()=>{b(),j()},[p,h,f]);const b=async()=>{x(!0);try{const e={page:f,per_page:9};p&&(e.category_id=p),h&&(e.search=h);const t=await i.get("/api/blogs",{params:e});a(t.data.data),m(t.data.last_page)}catch(e){}finally{x(!1)}},j=async()=>{try{const e=await i.get("/api/blog-categories");l(e.data)}catch(e){}},v=e=>{c(e),u(1)},w=e=>{const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""};return e.jsx(n,{children:e.jsxs("div",{className:"blog-page",style:{minHeight:"100vh",background:"#f9fafb",paddingTop:"80px"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",padding:"80px 20px",textAlign:"center",color:"white",marginBottom:"60px"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{style:{fontSize:"48px",fontWeight:"700",marginBottom:"20px",background:"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Tin tức & Blog"}),e.jsx("p",{style:{fontSize:"18px",color:"#cbd5e1",lineHeight:"1.6"},children:"Cập nhật tin tức mới nhất về xe điện, công nghệ và xu hướng thị trường"})]})}),e.jsxs("div",{className:"container",style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px 80px"},children:[e.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:"40px"},children:e.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("form",{onSubmit:e=>{e.preventDefault(),u(1),b()},style:{flex:"1",minWidth:"250px"},children:e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"text",placeholder:"Tìm kiếm bài viết...",value:h,onChange:e=>g(e.target.value),style:{width:"100%",padding:"12px 45px 12px 15px",border:"1.5px solid #e5e7eb",borderRadius:"10px",fontSize:"15px",transition:"all 0.2s"},onFocus:e=>e.target.style.borderColor="#ff4500",onBlur:e=>e.target.style.borderColor="#e5e7eb"}),e.jsx("button",{type:"submit",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",color:"#ff4500"},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>v(""),style:{padding:"10px 20px",border:"none",borderRadius:"25px",background:""===p?"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)":"#f3f4f6",color:""===p?"white":"#374151",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",fontSize:"14px"},children:"Tất cả"}),s.map(t=>e.jsxs("button",{onClick:()=>v(t.id),style:{padding:"10px 20px",border:"none",borderRadius:"25px",background:p===t.id?"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)":"#f3f4f6",color:p===t.id?"white":"#374151",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",fontSize:"14px"},children:[t.name," (",t.posts_count||0,")"]},t.id))]})]})}),d&&e.jsx("div",{style:{textAlign:"center",padding:"60px 0"},children:e.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #f3f4f6",borderTop:"4px solid #ff4500",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})}),!d&&o.length>0&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"30px",marginBottom:"40px"},children:o.map(t=>{var i,n,o;return e.jsxs(r,{to:`/blog/${t.slug}`,style:{textDecoration:"none",color:"inherit",background:"white",borderRadius:"15px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",transition:"all 0.3s",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{width:"100%",height:"220px",overflow:"hidden",position:"relative"},children:[t.featured_image?e.jsx("img",{src:t.featured_image,alt:t.title,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"},onMouseEnter:e=>e.target.style.transform="scale(1.05)",onMouseLeave:e=>e.target.style.transform="scale(1)"}):null,e.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:t.featured_image?"none":"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"48px",fontWeight:"700"},children:t.title.charAt(0)}),e.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",background:"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)",color:"white",padding:"6px 14px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:null==(i=t.category)?void 0:i.name})]}),e.jsxs("div",{style:{padding:"25px"},children:[e.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px",fontSize:"13px",color:"#6b7280"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),null==(n=t.author)?void 0:n.name]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),(o=t.published_at,new Date(o).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}))]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),t.views_count]})]}),e.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"12px",color:"#1a1a2e",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.title}),e.jsx("p",{style:{color:"#6b7280",fontSize:"14px",lineHeight:"1.6",marginBottom:"15px",display:"-webkit-box",WebkitLineClamp:"3",WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.excerpt||w(t.content).substring(0,150)+"..."}),e.jsxs("div",{style:{color:"#ff4500",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"5px"},children:["Đọc thêm",e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]},t.id)})}),!d&&0===o.length&&e.jsxs("div",{style:{textAlign:"center",padding:"80px 20px",background:"white",borderRadius:"15px"},children:[e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"2",style:{margin:"0 auto 20px"},children:[e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),e.jsx("path",{d:"M3 9h18"}),e.jsx("path",{d:"M9 21V9"})]}),e.jsx("h3",{style:{fontSize:"24px",color:"#374151",marginBottom:"10px"},children:"Không tìm thấy bài viết"}),e.jsx("p",{style:{color:"#6b7280"},children:"Thử tìm kiếm với từ khóa khác hoặc chọn danh mục khác"})]}),!d&&o.length>0&&y>1&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"40px"},children:[e.jsx("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===f,style:{padding:"10px 20px",border:"none",borderRadius:"8px",background:1===f?"#f3f4f6":"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)",color:1===f?"#9ca3af":"white",fontWeight:"600",cursor:1===f?"not-allowed":"pointer",transition:"all 0.2s"},children:"← Trước"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"0 20px",fontWeight:"600",color:"#374151"},children:["Trang ",f," / ",y]}),e.jsx("button",{onClick:()=>u(e=>Math.min(y,e+1)),disabled:f===y,style:{padding:"10px 20px",border:"none",borderRadius:"8px",background:f===y?"#f3f4f6":"linear-gradient(135deg, #ff4500 0%, #ff6b35 100%)",color:f===y?"#9ca3af":"white",fontWeight:"600",cursor:f===y?"not-allowed":"pointer",transition:"all 0.2s"},children:"Sau →"})]})]}),e.jsx("style",{children:"\n                @keyframes spin {\n                    to { transform: rotate(360deg); }\n                }\n            "})]})})}export{o as default};
